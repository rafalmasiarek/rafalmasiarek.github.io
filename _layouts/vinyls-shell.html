---
layout: base
canonical: "/vinyls/"
---
{%- assign __site_abs = site.url | append: site.baseurl -%}
{%- assign __canon = __site_abs | append: page.canonical -%}

<script data-cfasync="false">
  // Canonical override (JS updates too)
  (function () {
    var a = document.getElementById('canonical-link');
    if (a) a.href = "{{ __canon }}";
  })();

  window.__SITE_BASE__ = "{{ __site_abs }}";
  window.__VINYLS_API__ = "{{ __site_abs }}/api/v1/vinyls";
  window.__VINYLS_PER_PAGE__ = "{{ site.vinyls_per_page | default: 9 }}";
</script>

{{ content }}

<script data-cfasync="false">
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('{{ site.baseurl }}/sw-vinyls.js?{{ site.time | date: "%s%N" }}', { scope: '{{ site.baseurl }}/' })
        .catch(err => console.warn('SW register failed', err));
    });
  }
</script>